(this.webpackJsonptreehacks=this.webpackJsonptreehacks||[]).push([[0],{68:function(e,t,a){},72:function(e,t,a){},81:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var s=a(12),r=a.n(s),i=a(56),n=a.n(i),c=(a(68),a(57)),o=a(58),d=a(43),h=a(61),l=a(60),j=a.p+"static/media/tree.86e681a9.gif",b=a(49);b.a.initializeApp({apiKey:"AIzaSyDFC4kKDoALBRJchkXL3Mb6YPzhjajN_oM",authDomain:"treehacks-bed0c.firebaseapp.com",databaseURL:"https://treehacks-bed0c-default-rtdb.europe-west1.firebasedatabase.app",projectId:"treehacks-bed0c",storageBucket:"treehacks-bed0c.appspot.com",messagingSenderId:"500099926048",appId:"1:500099926048:web:acffd4cbf51ef600b4d445",measurementId:"G-T1604DBK6S"});var u=b.a,p=(a(72),a(3)),m=function(e){var t=e.bgcolor,a=e.completed,s={height:"100%",width:"".concat(a,"%"),backgroundColor:t,borderRadius:"inherit",textAlign:"right",transition:"width 1s ease-in-out"};return Object(p.jsx)("div",{style:{height:20,width:"100%",backgroundColor:"#e0e0de",borderRadius:50,margin:50},children:Object(p.jsx)("div",{style:s,children:Object(p.jsx)("span",{style:{padding:5,color:"white",fontWeight:"bold"},children:"".concat(a,"%")})})})},x=a(59),g=a.n(x),O={dishes:"Doing dishes (5L/minute)",dishwasher:" Dishwasher (11L/cycle)",flush:"Flushing (13L/usage)",hands:"Washing hands (5L/minute)",shower:"Showering (8L/minute)",washingmachine:"Washing machine (10L/cycle)"},f=function(e){Object(h.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={snap:null,loaded:!1,total:0,added:0,displayTimer:!1,displaySuc:!1,numTree:0,progressTree:0},s.onClick=s.onClick.bind(Object(d.a)(s)),s}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=u.database().ref("water"),a=u.database().ref("tree");t.on("value",(function(t){var a=t.val(),s=0;Object.keys(a).map((function(e,t){"dishes"===e?s+=5*a[e]:"dishwasher"===e?s+=11*a[e]:"flush"===e?s+=13*a[e]:"hands"===e?s+=5*a[e]:"shower"===e?s+=8*a[e]:"washingmachine"===e&&(s+=20*a[e])})),e.setState({snap:a,total:s})})),a.on("value",(function(t){var a=t.val();console.log(a),e.setState({numTree:a.count,progressTree:a.progress,loaded:!0})}))}},{key:"onClick",value:function(){if(this.setState({added:this.state.total}),0!==this.state.total){var e=u.database().ref("water"),t=u.database().ref("tree"),a=this.state.progressTree+100-this.state.total/200*100;a>=100&&(a-=100,t.update({count:this.state.numTree+1})),this.setState({displaySuc:!0,displayTimer:!1,progressTree:a}),t.update({progress:Math.max(0,Math.min(a,100))}),e.update({dishes:0,dishwasher:0,hands:0,shower:0,flush:0,washingmachine:0})}else this.setState({displayTimer:!0,displaySuc:!1})}},{key:"render",value:function(){if(this.state.loaded){var e=this.state.snap;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"Homepage",children:[Object(p.jsx)("h1",{style:{fontSize:"60px"},children:"WaterWatch"}),Object(p.jsxs)("table",{style:{width:"20%",marginLeft:"40%"},children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"activity"}),Object(p.jsx)("th",{children:"amount"})]}),Object.keys(e).map((function(t,a){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:O[t]},a),Object(p.jsx)("td",{children:e[t]},t)]})})),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:Object(p.jsx)("b",{children:"total litre usage"})}),Object(p.jsxs)("td",{children:[" ",Object(p.jsxs)("b",{children:[this.state.total," Litres"]})," "]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:" daily goal"}),Object(p.jsx)("td",{children:"  150 Litres "})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Bucket volume"}),Object(p.jsx)("td",{children:" 200 Litres "})]})]}),Object(p.jsxs)("p",{style:{width:"80%",marginLeft:"10%",marginTop:"30px",fontSize:"20px"},children:["Hello, and welcome to ",Object(p.jsx)("b",{children:"WaterWatch"}),". In the table above, you can see your water consumption from today. Every day, ",Object(p.jsx)("b",{children:"your tree will need water in order to grow"}),". You can water the tree with the bucket, however, the bucket only contains ",Object(p.jsx)("b",{children:"150L"})," of water. You have to watch your water consumption over the day to make sure there is enough water left to water your tree."]}),Object(p.jsx)("button",{onClick:this.onClick,style:{backgroundColor:"#a9d5ef",color:"#0055a6",border:"none",width:"500px"},children:"Water the Tree"}),this.state.displayTimer&&Object(p.jsx)("p",{style:{color:"red",fontSize:"20px"},children:"You already have watered your tree for today. Come back tomorrow!"})," ",this.state.displaySuc&&Object(p.jsxs)("p",{style:{color:"#49a144",fontSize:"20px"},children:["You have watered your tree. Congrats, your tree has grown by ",Math.max(0,Math.min(100-this.state.added/200*100,100))," %"]}),Object(p.jsx)("h3",{children:"Current progress on tree:"}),Object(p.jsx)("div",{style:{width:"50%",marginLeft:"23%"},children:Object(p.jsx)(m,{bgcolor:"#49a144",completed:this.state.progressTree})}),Object(p.jsxs)("h3",{children:["Number of trees: ",Object(p.jsx)("b",{style:{color:"#49a144"},children:this.state.numTree})]})]}),Object(p.jsx)("img",{style:{float:"left"},src:j,alt:"Tree"}),Object(p.jsx)("h3",{style:{marginLeft:"65%"},children:"Bucket state:"}),Object(p.jsx)("div",{style:{float:"right",marginRight:"14%",marginTop:"40px"},children:Object(p.jsx)(g.a,{value:Math.max(0,Math.min(100-this.state.total/200*100,100)),percent:"%",riseAnimation:!0,waveAnimation:!0,waveFrequency:2,waveAmplitude:1,gradient:!0})}),Object(p.jsxs)("section",{children:[Object(p.jsx)("div",{className:"wave wave1"}),Object(p.jsx)("div",{className:"wave wave2"}),Object(p.jsx)("div",{className:"wave wave3"}),Object(p.jsx)("div",{className:"wave wave4"})]})]})}return Object(p.jsx)("div",{className:"Homepage",children:"Loading"})}}]),a}(s.Component);a(81);var w=function(){return Object(p.jsx)(r.a.Fragment,{children:Object(p.jsx)("div",{children:Object(p.jsx)(f,{})})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,87)).then((function(t){var a=t.getCLS,s=t.getFID,r=t.getFCP,i=t.getLCP,n=t.getTTFB;a(e),s(e),r(e),i(e),n(e)}))};n.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),v()}},[[85,1,2]]]);
//# sourceMappingURL=main.477092ec.chunk.js.map